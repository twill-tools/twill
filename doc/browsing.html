<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.12: http://docutils.sourceforge.net/" />
<title>Web browsing with twill</title>
<style type="text/css">

body,p,table,li,h1,h2,h3,hr
{
font-family: verdana, arial, 'sans serif'; 
font-size: 95%
}

strong
{
font-family: verdana, arial, 'sans serif'; 
font-size: 85%
}


h1.title
{
font-size: 110%
}

body
{
#ffffff;
}

a:link {COLOR: navy;}
a:visited {COLOR: firebrick;}
a:active {COLOR: seashell;}
a:hover {COLOR: navy;}

div {
    margin:0;
    padding:0 .25em 0 0;
/*     text-align: right
     border:1px solid #aaa;
     background-color:#ececec; */
    }


pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #ffffff;
  border: thin black solid;
  padding: 5px;
}

</style>
</head>
<body>
<div class="document" id="web-browsing-with-twill">
<h1 class="title">Web browsing with twill</h1>

<p>twill strives to be a complete implementation of a web browser,
omitting only JavaScript support.  It includes support for cookies,
basic authentication, and trickery such as &quot;meta refresh&quot; redirects.
Please <a class="reference external" href="mailto:twill&#64;lists.idyll.org">let me know</a> if you find a situation where it doesn't work!</p>
<p>twill implements a variety of <a class="reference external" href="commands.html">commands</a>.  With the built-in language,
you can do things like go to a specific URL; follow links; fill out
forms and submit them; save, load, and delete cookies; and change the
user agent string.  You can also easily extend twill with new and
specialized commands using Python.</p>
<div class="section" id="using-twill-interactively">
<h1>Using twill interactively</h1>
<p>The twill command line script lets you interactively browse the Web.
It features built-in help, e.g. &quot;help go&quot; will describe the command 'go'
to you; command-line completion with the TAB key; and history browsing
with the UP/DOWN arrow keys.</p>
</div>
<div class="section" id="proxy-servers">
<h1>Proxy servers</h1>
<p>twill understands the <tt class="docutils literal">http_proxy</tt> environment variable generically
used to set proxy server information.  To use a proxy in UNIX or
Windows, just set the <tt class="docutils literal">http_proxy</tt> environment variable, e.g.</p>
<pre class="literal-block">
% export http_proxy=&quot;http://www.someproxy.com:3128&quot;
</pre>
<p>or</p>
<pre class="literal-block">
% setenv http_proxy=&quot;http://www.someotherproxy.com:3148&quot;
</pre>
</div>
<div class="section" id="recording-scripts">
<h1>Recording scripts</h1>
<p>Writing twill scripts is boring.  One simple way to get at least a
rough initial script is to use the <a class="reference external" href="http://maxq.tigris.org/">MaxQ</a> recorder to generate a twill
script.  <a class="reference external" href="http://maxq.tigris.org/">MaxQ</a> acts as an HTTP proxy and records all HTTP traffic; I
have written a simple twill script generator for it.  The script
generator and installation docs are included in the twill distribution
under the directory <tt class="docutils literal">extras/maxq</tt>.</p>
</div>
<div class="section" id="miscellaneous-implementation-details">
<h1>Miscellaneous implementation details</h1>
<blockquote>
<ul class="simple">
<li>twill ignores robots.txt.</li>
<li>http-equiv=refresh headers are handled immediately, independent of the
'pause' component of the 'content' attribute.</li>
<li>twill ignores JavaScript.</li>
</ul>
</blockquote>
</div>
<div class="section" id="using-html-tidy-to-check-for-broken-html">
<h1>Using HTML Tidy to check for broken HTML</h1>
<p>The <a class="reference external" href="http://www.html-tidy.org/">HTML Tidy</a> tool can be used to check and clean up broken HTML
pages.  You can use it with the 'tidy_ok' command to assert that it
reports no warnings or errors.  In order to use this command in twill,
you need to install the <a class="reference external" href="http://countergram.com/open-source/pytidylib/">PyTidyLib</a> package.  If it is not installed,
twill will silently ignore it.  It may be desirable to <em>require</em> a
functioning <tt class="docutils literal">PyTidyLib</tt> installation; so, to fail when it <em>isn't</em>
installed, set <tt class="docutils literal">config require_tidy 1</tt>.</p>
</div>
</div>
</body>
</html>
